var Setting,Turn,Board;Setting=function(){function t(){}return t.DISK={BLACK:"black",WHITE:"white",NONE:""},t.BOARD={INITIAL:[["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["","","",t.DISK.WHITE,t.DISK.BLACK,"","",""],["","","",t.DISK.BLACK,t.DISK.WHITE,"","",""],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""]]},t}(),Turn=function(){function t(){this.this_player=Setting.DISK.BLACK,this.next_player=Setting.DISK.WHITE}return t.prototype.change=function(){var t;return t=[this.next_player,this.this_player],this.this_player=t[0],this.next_player=t[1],t},t}(),Board=function(){function t(t){this.turn=t,this.cells=Setting.BOARD.INITIAL}return t.ADJACENT=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]],t.prototype.draw=function(){var t,r,e,n,i,s,o,a,h;for(s=this.cells,o=[],h=n=0,i=s.length;n<i;h=++n)a=s[h],o.push(function(){var n,i,s;for(s=[],e=n=0,i=a.length;n<i;e=++n)r=a[e],t=$("#"+h+e),this.can_move(h,e)?t.addClass("movable"):t.removeClass("movable"),r!==Setting.DISK.NONE?(t.addClass("disk"),t.removeClass(Setting.DISK.BLACK),t.removeClass(Setting.DISK.WHITE),s.push(t.addClass(r))):s.push(void 0);return s}.call(this));return o},t.prototype.move=function(t,r){return this.reverse(t,r),this.turn.change()},t.prototype.reverse=function(t,r){var e,n,i,s,o,a,h;for(this.cells[t][r]=this.turn.this_player,o=[],e=0,n=(i=this.reverse_disk(t,r)).length;e<n;e++)h=(s=i[e])[0],a=s[1],o.push(this.cells[h][a]=this.turn.this_player);return o},t.prototype.can_move=function(r,e){var n,i,s,o,a,h;if(this.cells[r][e]!==Setting.DISK.NONE)return!1;for(n=0,i=(s=t.ADJACENT).length;n<i;n++)if(h=(o=s[n])[0],a=o[1],0<this.reverse_disk_each_direction(r,e,h,a).length)return!0;return!1},t.prototype.reverse_disk=function(r,e){var n,i,s,o,a,h,u;for(a=[],n=0,i=(s=t.ADJACENT).length;n<i;n++)u=(o=s[n])[0],h=o[1],a=a.concat(this.reverse_disk_each_direction(r,e,u,h));return a},t.prototype.reverse_disk_each_direction=function(t,r,e,n){var i,s,o,a,h;for(h=[],o=t,s=r,a=0;a<=8;a++){if(s+=n,!(0<=(o+=e)&&o<=7&&0<=s&&s<=7))return[];if((i=this.cells[o][s])!==this.turn.next_player)return i===this.turn.this_player?h:[];h.push([o,s])}},t}(),window.onload=function(){return window.board=new Board(new Turn),window.board.draw(),$(".cell").on("click",function(){var t,r,e,n;if(n=(r=$(this).attr("id").split(""))[0],t=r[1],n=(e=[parseInt(n,10),parseInt(t,10)])[0],t=e[1],window.board.can_move(n,t))return window.board.move(n,t),window.board.draw()})};