var Setting,Turn,Board,AI;Setting=function(){function t(){}return t.DISK={BLACK:"black",WHITE:"white",NONE:""},t.BOARD={INITIAL:[["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["","","",t.DISK.WHITE,t.DISK.BLACK,"","",""],["","","",t.DISK.BLACK,t.DISK.WHITE,"","",""],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""]]},t}(),Turn=function(){function t(){this.this_player=Setting.DISK.BLACK,this.next_player=Setting.DISK.WHITE}return t.prototype.change=function(){var t;return t=[this.next_player,this.this_player],this.this_player=t[0],this.next_player=t[1],t},t}(),Board=function(){function t(){this.cells=Setting.BOARD.INITIAL,this.this_player=Setting.DISK.BLACK,this.next_player=Setting.DISK.WHITE}return t.ADJACENT=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]],t.prototype.change=function(){var t;return console.log("change"),t=[this.next_player,this.this_player],this.this_player=t[0],this.next_player=t[1],t},t.prototype.draw=function(){var t,n,r,e,i,o,s,a,h;for(o=this.cells,s=[],h=e=0,i=o.length;e<i;h=++e)a=o[h],s.push(function(){var e,i,o;for(o=[],r=e=0,i=a.length;e<i;r=++e)n=a[r],t=$("#"+h+r),this.can_move(h,r)?t.addClass("movable"):t.removeClass("movable"),n!==Setting.DISK.NONE?(t.addClass("disk"),t.removeClass(Setting.DISK.BLACK),t.removeClass(Setting.DISK.WHITE),o.push(t.addClass(n))):o.push(void 0);return o}.call(this));return s},t.prototype.move=function(t,n){return this.flip(t,n),this.change()},t.prototype.can_move=function(n,r){var e,i,o,s,a,h;if(this.cells[n][r]!==Setting.DISK.NONE)return!1;for(e=0,i=(o=t.ADJACENT).length;e<i;e++)if(h=(s=o[e])[0],a=s[1],0<this.flip_disk_each_direction(n,r,h,a).length)return!0;return!1},t.prototype.flip=function(t,n){var r,e,i,o,s,a,h;for(this.cells[t][n]=this.this_player,s=[],r=0,e=(i=this.flip_disk(t,n)).length;r<e;r++)h=(o=i[r])[0],a=o[1],s.push(this.cells[h][a]=this.this_player);return s},t.prototype.flip_disk=function(n,r){var e,i,o,s,a,h,l;for(e=[],i=0,o=(s=t.ADJACENT).length;i<o;i++)l=(a=s[i])[0],h=a[1],e=e.concat(this.flip_disk_each_direction(n,r,l,h));return e},t.prototype.flip_disk_each_direction=function(t,n,r,e){var i,o,s,a,h;for(a=[],s=t,o=n,h=0;h<=8;h++){if(o+=e,!(0<=(s+=r)&&s<=7&&0<=o&&o<=7))return[];if((i=this.cells[s][o])!==this.next_player)return i===this.this_player?a:[];a.push([s,o])}},t}(),AI=function(){function t(t){this.board=t}return t.prototype.search=function(){},t}();var AI1,extend=function(t,n){for(var r in n)hasProp.call(n,r)&&(t[r]=n[r]);function e(){this.constructor=t}return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t},hasProp={}.hasOwnProperty;AI1=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return extend(n,AI),n.prototype.search=function(){var t,n,r,e,i,o,s,a,h,l,p,c,u,f;for(a={},p=r=0,o=(h=Setting.BOARD.INITIAL).length;r<o;p=++r)for(n=e=0,s=(l=h[p]).length;e<s;n=++e)l[n],this.board.can_move(p,n)&&(a[""+p+n]=this.board.flip_disk(p,n).length);for(i in f=0,u=0,0,a)c=a[i],l=i[0],t=i[1],0<c&&(f=l,u=t);return[parseInt(f,10),parseInt(u,10)]},n}(),window.onload=function(){return window.board=new Board,window.board.draw(),$(".cell").on("click",function(){var t,n,r,e,i,o,s;if(o=(e=function(){var t,n,e,i;for(i=[],t=0,n=(e=$(this).attr("id").split("")).length;t<n;t++)r=e[t],i.push(parseInt(r,10));return i}.call(this))[0],t=e[1],window.board.can_move(o,t))return window.board.move(o,t),s=(i=new AI1(window.board).search())[0],n=i[1],window.board.move(s,n),window.board.draw()})};