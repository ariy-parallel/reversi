var Setting,Turn,Board,AI1;Setting=function(){function t(){}return t.DISK={BLACK:"black",WHITE:"white",NONE:""},t.BOARD={INITIAL:[["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["","","",t.DISK.WHITE,t.DISK.BLACK,"","",""],["","","",t.DISK.BLACK,t.DISK.WHITE,"","",""],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""]]},t}(),Turn=function(){function t(){this.this_player=Setting.DISK.BLACK,this.next_player=Setting.DISK.WHITE}return t.prototype.change=function(){var t;return t=[this.next_player,this.this_player],this.this_player=t[0],this.next_player=t[1],t},t}(),Board=function(){function t(){this.cells=Setting.BOARD.INITIAL,this.this_player=Setting.DISK.BLACK,this.next_player=Setting.DISK.WHITE}return t.ADJACENT=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]],t.prototype.change=function(){var t;return console.log("change"),t=[this.next_player,this.this_player],this.this_player=t[0],this.next_player=t[1],t},t.prototype.draw=function(){var t,n,r,i,e,o,s,a,h;for(o=this.cells,s=[],h=i=0,e=o.length;i<e;h=++i)a=o[h],s.push(function(){var i,e,o;for(o=[],r=i=0,e=a.length;i<e;r=++i)n=a[r],t=$("#"+h+r),this.can_move(h,r)?t.addClass("movable"):t.removeClass("movable"),n!==Setting.DISK.NONE?(t.addClass("disk"),t.removeClass(Setting.DISK.BLACK),t.removeClass(Setting.DISK.WHITE),o.push(t.addClass(n))):o.push(void 0);return o}.call(this));return s},t.prototype.move=function(t,n){return this.flip(t,n),this.change()},t.prototype.can_move=function(n,r){var i,e,o,s,a,h;if(this.cells[n][r]!==Setting.DISK.NONE)return!1;for(i=0,e=(o=t.ADJACENT).length;i<e;i++)if(h=(s=o[i])[0],a=s[1],0<this.flip_disk_each_direction(n,r,h,a).length)return!0;return!1},t.prototype.flip=function(t,n){var r,i,e,o,s,a,h;for(this.cells[t][n]=this.this_player,s=[],r=0,i=(e=this.flip_disk(t,n)).length;r<i;r++)h=(o=e[r])[0],a=o[1],s.push(this.cells[h][a]=this.this_player);return s},t.prototype.flip_disk=function(n,r){var i,e,o,s,a,h,l;for(i=[],e=0,o=(s=t.ADJACENT).length;e<o;e++)l=(a=s[e])[0],h=a[1],i=i.concat(this.flip_disk_each_direction(n,r,l,h));return i},t.prototype.flip_disk_each_direction=function(t,n,r,i){var e,o,s,a,h;for(a=[],s=t,o=n,h=0;h<=8;h++){if(o+=i,!(0<=(s+=r)&&s<=7&&0<=o&&o<=7))return[];if((e=this.cells[s][o])!==this.next_player)return e===this.this_player?a:[];a.push([s,o])}},t}(),AI1=function(){function t(t){this.board=t}return t.prototype.search=function(){var t,n,r,i,e,o,s,a,h,l,c,p,u,f;for(a={},c=r=0,o=(h=Setting.BOARD.INITIAL).length;r<o;c=++r)for(n=i=0,s=(l=h[c]).length;i<s;n=++i)l[n],this.board.can_move(c,n)&&(a[""+c+n]=this.board.flip_disk(c,n).length);for(e in f=0,u=0,0,a)p=a[e],l=e[0],t=e[1],0<p&&(f=l,u=t);return[parseInt(f,10),parseInt(u,10)]},t}(),window.onload=function(){return window.board=new Board,window.board.draw(),$(".cell").on("click",function(){var t,n,r,i,e,o,s;if(o=(i=function(){var t,n,i,e;for(e=[],t=0,n=(i=$(this).attr("id").split("")).length;t<n;t++)r=i[t],e.push(parseInt(r,10));return e}.call(this))[0],t=i[1],window.board.can_move(o,t))return window.board.move(o,t),s=(e=new AI1(window.board).search())[0],n=e[1],window.board.move(s,n),window.board.draw()})};