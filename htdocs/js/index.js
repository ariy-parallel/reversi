var Setting,Turn,Board;Setting=function(){function t(){}return t.DISK={BLACK:"black",WHITE:"white",NONE:""},t}(),Turn=function(){function t(){this.this_player=Setting.DISK.BLACK,this.next_player=Setting.DISK.WHITE}return t.prototype.change=function(){var t;return t=[this.next_player,this.this_player],this.this_player=t[0],this.next_player=t[1],t},t}(),Board=function(){function t(t){this.turn=t,this.cells=[["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""],["","","","","","","",""]],this.cells[3][3]=Setting.DISK.WHITE,this.cells[3][4]=Setting.DISK.BLACK,this.cells[4][3]=Setting.DISK.BLACK,this.cells[4][4]=Setting.DISK.WHITE}return t.ADJACENT=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]],t.prototype.draw=function(){var t,e,r,n,i,s,o,h,a;for(s=this.cells,o=[],a=n=0,i=s.length;n<i;a=++n)h=s[a],o.push(function(){var n,i,s;for(s=[],r=n=0,i=h.length;n<i;r=++n)e=h[r],t=$("#"+a+r),e!==Setting.DISK.NONE?(t.addClass("disk"),t.removeClass(Setting.DISK.BLACK),t.removeClass(Setting.DISK.WHITE),s.push(t.addClass(e))):s.push(void 0);return s}());return o},t.prototype.move=function(t,e){return this.reverse(t,e),this.turn.change()},t.prototype.reverse=function(t,e){var r,n,i,s,o,h,a;for(this.cells[t][e]=this.turn.this_player,o=[],r=0,n=(i=this.reverse_disk(t,e)).length;r<n;r++)a=(s=i[r])[0],h=s[1],o.push(this.cells[a][h]=this.turn.this_player);return o},t.prototype.can_move=function(e,r){var n,i,s,o,h,a;if(this.cells[e][r]!==Setting.DISK.NONE)return!1;for(n=0,i=(s=t.ADJACENT).length;n<i;n++)if(a=(o=s[n])[0],h=o[1],0<this.reverse_disk_each_direction(e,r,a,h).length)return!0;return!1},t.prototype.reverse_disk=function(e,r){var n,i,s,o,h,a,l;for(h=[],n=0,i=(s=t.ADJACENT).length;n<i;n++)l=(o=s[n])[0],a=o[1],h=h.concat(this.reverse_disk_each_direction(e,r,l,a));return h},t.prototype.reverse_disk_each_direction=function(t,e,r,n){var i,s,o,h,a;for(a=[],o=t,s=e,h=0;h<=8;h++){if(s+=n,!(0<=(o+=r)&&o<=7&&0<=s&&s<=7))return[];if((i=this.cells[o][s])!==this.turn.next_player)return i===this.turn.this_player?a:[];a.push([o,s])}},t}(),window.onload=function(){return window.board=new Board(new Turn),window.board.draw(),$(".cell").on("click",function(){var t,e,r,n;if(n=(e=$(this).attr("id").split(""))[0],t=e[1],n=(r=[parseInt(n,10),parseInt(t,10)])[0],t=r[1],window.board.can_move(n,t))return window.board.move(n,t),window.board.draw()})};